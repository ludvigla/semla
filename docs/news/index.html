<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • semla</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Changelog"><meta property="og:image" content="https://ludvigla.github.io/semla/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">semla</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/semla.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><h6 class="dropdown-header" data-toc-skip>Intro</h6></li>
    <li><a class="dropdown-item" href="../articles/getting_started.html">Get started</a></li>
    <li><a class="dropdown-item" href="../articles/subset_and_merge.html">Subset/merge</a></li>
    <li><a class="dropdown-item" href="../articles/visiumHD.html">VisiumHD</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Spatial visualization</h6></li>
    <li><a class="dropdown-item" href="../articles/numeric_features.html">Map numeric features</a></li>
    <li><a class="dropdown-item" href="../articles/categorical_features.html">Map categorical features</a></li>
    <li><a class="dropdown-item" href="../articles/advanced_visualization.html">Advanced visualization</a></li>
    <li><a class="dropdown-item" href="../articles/feature_viewer.html">Feature viewer</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Spatial methods</h6></li>
    <li><a class="dropdown-item" href="../articles/radial_distances.html">Radial distances</a></li>
    <li><a class="dropdown-item" href="../articles/region_neighbors.html">Region neighbors</a></li>
    <li><a class="dropdown-item" href="../articles/spatial_statistics_for_labelled_spots.html">Statistics for labelled spots</a></li>
    <li><a class="dropdown-item" href="../articles/spatial_autocorrelation.html">Spatial autocorrelation</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/cell_type_mapping_with_NNLS.html">Cell type mapping</a></li>
    <li><a class="dropdown-item" href="../articles/digital_unrolling.html">Digital unrolling</a></li>
    <li><a class="dropdown-item" href="../articles/NNMF.html">Non-negative Matrix Factorization</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Image processing</h6></li>
    <li><a class="dropdown-item" href="../articles/images_and_coordinates.html">Images and spot coordinates</a></li>
    <li><a class="dropdown-item" href="../articles/mask_images.html">Image masking</a></li>
    <li><a class="dropdown-item" href="../articles/image_alignment.html">Image alignment</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/create_object.html">Create a Staffli object</a></li>
    <li><a class="dropdown-item" href="../articles/compare_cell_type_mapping_NNLS.html">Cell type mapping comparison</a></li>
    <li><a class="dropdown-item" href="../articles/cell_type_mapping_benchmark.html">Cell type mapping benchmark</a></li>
    <li><a class="dropdown-item" href="../articles/slide-seq.html">Slide-Seq data</a></li>
    <li><a class="dropdown-item" href="../articles/IF_data.html">IF data</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ludvigla/semla" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>

    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.4.0" id="semla-140">semla 1.4.0<a class="anchor" aria-label="anchor" href="#semla-140"></a></h2>
<p><em>2025-09-08</em></p>
<div class="section level3">
<h3 id="changes-1-4-0">Changes<a class="anchor" aria-label="anchor" href="#changes-1-4-0"></a></h3>
<ul><li>Increased versions of <em>semla</em>’s dependencies:
<ul><li>
<em>Seurat</em> v5 or above</li>
<li>
<em>ggplot2</em> v3.5.2 or above</li>
</ul></li>
<li>
<code><a href="../reference/get-network.html">GetSpatialNetwork()</a></code> can compute the network on either array or pixel spot coordinates.</li>
<li>Cleaned up warnings that come inside testing</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3.2" id="semla-132">semla 1.3.2<a class="anchor" aria-label="anchor" href="#semla-132"></a></h2>
<p><em>2025-07-4</em></p>
<div class="section level3">
<h3 id="changes-1-3-2">Changes<a class="anchor" aria-label="anchor" href="#changes-1-3-2"></a></h3>
<ul><li>Bug fix for <code><a href="../reference/UpdateSeuratForSemla.html">UpdateSeuratForSemla()</a></code> when dealing with <em>VisiumV2</em> data. <em>VisiumV2</em> assays can contain both VisiumHD and Visium data. With Visium data, regular array coordinates cannot be returned, which could cause issues when running specific plotting methods downstream. Thus, we recommend using <code>semla</code>’s <code><a href="../reference/ReadVisiumData.html">ReadVisiumData()</a></code> in order to read the data into memory.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3.1" id="semla-131">semla 1.3.1<a class="anchor" aria-label="anchor" href="#semla-131"></a></h2>
<p><em>2025-03-19</em></p>
<div class="section level3">
<h3 id="changes-1-3-1">Changes<a class="anchor" aria-label="anchor" href="#changes-1-3-1"></a></h3>
<ul><li><p>If the spot barcode IDs are missing a “-N” (e.g. “-1”) suffix (like is standard in Visium data), it will be added to the IDs when running <code><a href="../reference/ReadVisiumData.html">ReadVisiumData()</a></code>. This ensures that multiple samples can be added and merged properly without conflicts with unique barcode identities.</p></li>
<li><p>Minor edits to the backend code for plotting functions</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3.0" id="semla-130">semla 1.3.0<a class="anchor" aria-label="anchor" href="#semla-130"></a></h2>
<p><em>2025-02-26</em></p>
<div class="section level3">
<h3 id="added-1-3-0">Added<a class="anchor" aria-label="anchor" href="#added-1-3-0"></a></h3>
<ul><li>Functionalities added for creating a spatial multimodal object using the new function <code><a href="../reference/multimodal-object.html">CreateMultiModalObject()</a></code>. This new function takes two objects, which have had their pixel coordinates aligned to each other beforehand, and joins them into a new object where the spatial points from the second “mapping” modality are mapped and aggregated onto the first “reference” modality. The data in the two modalities are stored as separate assays in the new object.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-1-3-0">Changes<a class="anchor" aria-label="anchor" href="#changes-1-3-0"></a></h3>
<ul><li>Changed the appearance of the color scalebar in <code><a href="../reference/visualize-features.html">MapFeatures()</a></code> and <code><a href="../reference/visualize-multiple-features.html">MapMultipleFeatures()</a></code> so that the ticks and outline colors are black and have the same linewidth.</li>
<li>
<code><a href="../reference/MapFeaturesSummary.html">MapFeaturesSummary()</a></code> now has a default option set for the <code>subplot_type</code> argument (default = “violin”).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-3-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-3-0"></a></h3>
<ul><li>Minor fixes in function documentations</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.1" id="semla-121">semla 1.2.1<a class="anchor" aria-label="anchor" href="#semla-121"></a></h2>
<p><em>2025-01-24</em></p>
<div class="section level3">
<h3 id="bug-fixes-1-2-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-2-1"></a></h3>
<ul><li>Fixed an issue with the <code><a href="../reference/radial-distance.html">RadialDistance()</a></code> function to make it possible to pass additional arguments, such as <code>maxDist</code> and <code>nNeighbors</code>. Related to Issue #36</li>
</ul></div>
<div class="section level3">
<h3 id="added-1-2-1">Added<a class="anchor" aria-label="anchor" href="#added-1-2-1"></a></h3>
<ul><li>The <code>UpdateSeuratForSemla</code> function now accepts VisiumV2 assays. Related to Issues #41 and #40</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.0" id="semla-120">semla 1.2.0<a class="anchor" aria-label="anchor" href="#semla-120"></a></h2>
<p><em>2024-09-27</em></p>
<div class="section level3">
<h3 id="bug-fixes-1-2-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-2-0"></a></h3>
<ul><li><p>Dealt with an issue in <code>MapFeatures</code> and <code>MapLabels</code> if the specified column contains NA values and when using SeuratObject v.5.</p></li>
<li><p>When running <code>RegionNeighbors</code> and specifying a column in which labels contain any blank spaces, the function will abort and a message will be provided. (<a href="https://github.com/ludvigla/semla/issues/20" class="external-link">#20</a>)</p></li>
</ul></div>
<div class="section level3">
<h3 id="added-1-2-0">Added<a class="anchor" aria-label="anchor" href="#added-1-2-0"></a></h3>
<ul><li>Compatibility with parquet file format, used in <strong>Visium HD</strong>, when loading coordinate files using the <code>LoadSpatialCoordinates</code> function (used in <code>ReadVisiumData</code>).</li>
<li>New arguments, <code>shape</code> and <code>spot_side</code>, within the <code>MapFeatures</code>, <code>MapLabels</code>, <code>MapFeaturesSummary</code>, <code>MapLabelsSummary</code>, and <code>MapMultipleFeatures</code> functions to allow for square pixel plotting, particularly useful when working with Visium HD data.</li>
<li>A new vignette to demonstrate how to work with Visium HD data has also been added to the website.</li>
<li>Added a new argument, <code>image_use</code>, to the <code>UpdateSeuratFromSemla</code> function, allowing the user to decide if they want to put the raw or the transformed image in the new object (<a href="https://github.com/ludvigla/semla/pull/33" class="external-link">#33</a>).</li>
<li>Optional alternative to compute p-values when calculating spatial autocorrelation scores using <code>CorSpatialFeatures</code>. The p-values are computed using the Student t Distribution, and adjusted p-values are calculated using the Benjamini &amp; Hochberg (BH, or FDR) method. (<a href="https://github.com/ludvigla/semla/issues/22" class="external-link">#22</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.6" id="semla-116">semla 1.1.6<a class="anchor" aria-label="anchor" href="#semla-116"></a></h2>
<p><em>2023-09-19</em></p>
<div class="section level3">
<h3 id="bug-fixes-1-1-6">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-6"></a></h3>
<ul><li>Fixed bug in <code>RunLocalG</code> when <code>store_in_metadata = FALSE</code> and no alternative hypothesis is provided.</li>
<li>Fixed bug in <code>TileImage</code> when using multiple threads on linux.</li>
</ul></div>
<div class="section level3">
<h3 id="changes-1-1-6">Changes<a class="anchor" aria-label="anchor" href="#changes-1-1-6"></a></h3>
<ul><li>Modified behaviour of <code>mode = "heatmap"</code> in <code>PlotFeatureLoadings</code> to make sure that features are ordered by their highest dimensionality reduction value.</li>
<li>Updated NNMF vignette with a new data set.</li>
<li>Changed deprecated <code>ggplot2</code> function arguments in <code>AnglePlot</code> and <code>MapFeaturesSummary</code>.</li>
<li>Changed example <code>Seurat</code> object to contain basic array coordinates.</li>
</ul></div>
<div class="section level3">
<h3 id="added-1-1-6">Added<a class="anchor" aria-label="anchor" href="#added-1-1-6"></a></h3>
<ul><li>Option to set <code>launch.browser</code> in <code>FeatureViewer</code>. For instance, users can se <code>launch.browser = getOption("viewer")</code> in <code>FeatureViewer</code> to launch the app in the RStudio viewer window.</li>
<li>
<code>CreateStaffliObject</code> now accepts basic array coordinates to be stored in <code>meta_data</code> slot. These coordinates are defined on the capture array grid of a 10x Genomics Visium slide and do not match the H&amp;E images.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.5" id="semla-115">semla 1.1.5<a class="anchor" aria-label="anchor" href="#semla-115"></a></h2>
<p><em>2023-09-06</em></p>
<div class="section level3">
<h3 id="bug-fixes-1-1-5">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-5"></a></h3>
<ul><li>Added check for non-finite values when visualizing numeric data in <code>FeatureViewer</code> to avoid crash</li>
<li>Fixed bug in <code>FeatureViewer</code> when a slot other than ‘data’ is selected</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.4" id="semla-114">semla 1.1.4<a class="anchor" aria-label="anchor" href="#semla-114"></a></h2>
<p><em>2023-09-04</em></p>
<div class="section level3">
<h3 id="bug-fixes-1-1-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-4"></a></h3>
<ul><li>Fixed bug in <code>LoadScaleFactors</code>
</li>
<li>Fixed bug in <code>FeatureViewer</code> when handling data sets with spots located outside the H&amp;E image</li>
</ul></div>
<div class="section level3">
<h3 id="changes-1-1-4">Changes<a class="anchor" aria-label="anchor" href="#changes-1-1-4"></a></h3>
<ul><li>Improved function documentation</li>
</ul></div>
<div class="section level3">
<h3 id="added-1-1-4">Added<a class="anchor" aria-label="anchor" href="#added-1-1-4"></a></h3>
<ul><li>Added support for conversion of <code>Seurat</code> objects with Slide-seq data in <code>UpdateSeuratForSemla</code>
</li>
<li>Added option to color background and titles in <code>ImagePlot</code>
</li>
<li>Added support for Visium + IF data in <code>LoadAndMergeMatrices</code> and <code>ReadVisiumData</code>
</li>
<li>Added <code>renv.lock</code> file for installing semla and its dependencies with <code>renv</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="website-1-1-4">Website<a class="anchor" aria-label="anchor" href="#website-1-1-4"></a></h3>
<ul><li>Updated image alignment vignette</li>
<li>Updated Staffli objects article</li>
<li>Added cell type deconvolution benchmark article</li>
<li>Added Visium + IF data vignette</li>
<li>Added example to digital unrolling vignette</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="semla-110">semla 1.1.0<a class="anchor" aria-label="anchor" href="#semla-110"></a></h2>
<p><em>2023-08-14</em></p>
<div class="section level3">
<h3 id="added-1-1-0">Added<a class="anchor" aria-label="anchor" href="#added-1-1-0"></a></h3>
<ul><li>Added helper function for <code>Staffli</code> objects:
<ul><li>
<code>GetScaleFactors</code> to fetch <code>tibble</code> with scale factor related information</li>
</ul></li>
<li>
<code>GetImages</code> to fetch images</li>
<li>
<code>GetImageInfo</code> to fetch <code>tibble</code> with image related information</li>
<li>
<code>ReplaceImagePaths</code> to validate and update image paths</li>
<li>Added <code>UpdateSeuratForSemla</code> to make <code>Seurat</code> objects with VisiumV1 data compatible with <code>semla</code>
</li>
<li>Added <code>LoadAnnotationCSV</code> to load annotations exported from Loupe Browser</li>
</ul></div>
<div class="section level3">
<h3 id="changes-1-1-0">Changes<a class="anchor" aria-label="anchor" href="#changes-1-1-0"></a></h3>
<ul><li>Improved verbosity</li>
<li>Reduced size of example data</li>
<li>Updated function documentation</li>
<li>Updated function examples</li>
<li>Added option to load images from URL instead of local path (<code>LoadImages</code> and <code>ReplaceImagePaths</code>)</li>
<li>Added option to use multiple cores for <code>ExportDataForViewer</code>
</li>
<li>Fixed bug in <code>RadialDistance</code> when no spots are available after removing singletons</li>
<li>Fixed bug in <code>MergeSTData</code> when merging two or more objects containing multiple tissue sections</li>
<li>Fixed bug in <code>MapMultipleFeatures</code> when NA values are present</li>
<li>Updated data loaders for increased compatibility with CytAssist data. Minor bug fixes for edge cases when spots are located outside of the H&amp;E image</li>
<li>Fixed bug in <code>LoadAndMergeMatrices</code> when loading data from a data folder output by Space Ranger</li>
<li>Changed output of <code>AdjustTissueCoordinates</code> which now returns unadjusted y-axis values</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="semla-100">semla 1.0.0<a class="anchor" aria-label="anchor" href="#semla-100"></a></h2>
<p><em>2023-03-24</em></p>
<p>We are excited to announce the first release of our R package, <code>semla</code>.</p>
<p>The package is designed to process, analyze and visualize Spatially Resolved Transcriptomics (SRT) data.</p>
<p>Key features of this release include:</p>
<ul><li>Interactive data visualization and annotation with the <code>FeatureViewer</code> web app</li>
<li>Spatially aware analysis methods: <code>RegionNeighbors</code>, <code>RadialDistance</code>, <code>CorSpatialFeatures</code>, <code>RunLocalG</code>, <code>RunLabelAssortativityTest</code>, <code>RunNeighborhoodEnrichmentTest</code>, <code>CutSpatialNetwork</code>
</li>
<li>Visualization methods: <code>MapFeatures</code>, <code>MapLabels</code>
</li>
<li>Image processing: <code>MaskImages</code>, <code>RigidTransformImages</code>, <code>RunAlignment</code>
</li>
<li>Cell type mapping: <code>RunNNLS</code>
</li>
</ul><p>We would like to express our gratitude to <a href="https://github.com/jemorlanes" class="external-link">Javier Morlanes</a> and <a href="https://github.com/mabreumac" class="external-link">Marcos Machado</a> who contributed to this release. We appreciate your feedback, suggestions, and bug reports.</p>
<p>We invite users to download and install the development version of the package from our GitHub <a href="https://github.com/ludvigla/semla" class="external-link">repo</a> and explore the features and functionality. Please feel free to provide feedback and suggestions for future improvements.</p>
<p>Thank you for your support and we look forward to continuing to enhance and improve this package.</p>
<p><em>Sincerely,</em></p>
<p><em>Ludvig Larsson and Lovisa Franzén</em></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/ludvigla" class="external-link">Ludvig Larsson</a>, <a href="https://github.com/lfranzen" class="external-link">Lovisa Franzen</a>, <a href="https://github.com/jemorlanes" class="external-link">Javier Escudero Morlanes</a>, <a href="https://www.spatialresearch.org/" class="external-link"><img src="reference/figures/sr-logo.png" height="36" alt="spatialresearch"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

